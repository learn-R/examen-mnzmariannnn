rlang::last_error()
PER_FZAS_proc <- Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2= 'De acuerdo';
3= 'En desacuerdo'; 4= 'Muy en Desacuerdo'; c(-1) = NA"), as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo',
'De acuerdo', 'Muy de acuerdo')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos';
4= 'Todos'; c(-5,-4,-3,-2,-1) = NA", as.factor = T, levels = c('Ninguno', 'Algunos',
'Casi todos', 'Todos'))),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"), as.factor = T, levels = c('Ninguna',
'Poca', 'Algo',
'Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA", as.factor = T, levels = c('Ninguna',
'Poca', 'Algo'
,'Mucha'))) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))) #en la última linea hay un problema
View(Percepcion_FuerzasdeOrdenySeguridad)
PER_FZAS_proc <- Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2= 'De acuerdo';
3= 'En desacuerdo'; 4= 'Muy en Desacuerdo'; c(-1) = NA"), as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo',
'De acuerdo', 'Muy de acuerdo')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos';
4= 'Todos'; c(-5,-4,-3,-2,-1) = NA", as.factor = T, levels = c('Ninguno', 'Algunos',
'Casi todos', 'Todos'))),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"), as.factor = T, levels = c('Ninguna',
'Poca', 'Algo',
'Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA", as.factor = T, levels = c('Ninguna',
'Poca', 'Algo'
PER_FZAS_proc <- Percepcion_FuerzasdeOrdenySeguridad %>%
PER_FZAS_proc <- Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recordes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA",
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_))) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
rlang::last_error()
PER_FZAS_proc <- Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA",
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_))) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
rlang::last_error()
sjPlot::view_df(Percepcion_FuerzasdeOrdenySeguridad)
PER_FZAS_proc <- Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_)))%>%
PER_FZAS_proc <- Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_))%>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
rlang::last_error()
PER_FZAS_proc <- Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = car::recode(.$EDAD, recodes = c("16:25='Joven';26:40='Adulto'; 61:hi='Adulto mayor'"),
as.factor = T, levels = c("Joven", "Adulto", "Adulto mayor")))%>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
rlang::last_error()
PER_FZAS_proc <- Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer'))) %>%
mutate(EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
PER_FZAS_proc <- Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer'))) %>%
mutate(EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'))) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
PER_FZAS_proc <- Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer'))) %>%
mutate(EDAD = case_when(EDAD > 16 & EDAD <= 25 ~ "Joven",
EDAD > 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer'))) %>%
mutate(EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
rlang::last_error()
?case_when
PER_FZAS_proc <- Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2= 'De acuerdo';
3= 'En desacuerdo'; 4= 'Muy en Desacuerdo'; c(-1) = NA"), as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo',
'De acuerdo', 'Muy de acuerdo')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos';
4= 'Todos'; c(-5,-4,-3,-2,-1) = NA", as.factor = T, levels = c('Ninguno', 'Algunos',
'Casi todos', 'Todos'))),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"), as.factor = T, levels = c('Ninguna',
'Poca', 'Algo',
'Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA", as.factor = T, levels = c('Ninguna',
'Poca', 'Algo'
,'Mucha'))) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))) #en la última linea hay un problema
frq(Percepcion_FuerzasdeOrdenySeguridad$EDAD)
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD > 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 60 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
levels = c('Joven', 'Adulto', 'Adulto mayor'), TRUE ~ NA_character_)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 60 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
levels = c('Joven', 'Adulto', 'Adulto mayor'), TRUE ~ NA_character_)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
rlang::last_error()
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when((EDAD >= 16 & EDAD <= 25) ~ "Joven",
(EDAD >= 26 & EDAD <= 60) ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
levels = c('Joven', 'Adulto', 'Adulto mayor'), TRUE ~ NA_character_)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when((EDAD > 16 & EDAD <= 25) ~ "Joven",
(EDAD > 26 & EDAD <= 60) ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
levels = c('Joven', 'Adulto', 'Adulto mayor'), TRUE ~ NA_character_)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >16 & EDAD <=25 ~ "Joven",
EDAD >26 & EDAD <=60 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
levels = c('Joven', 'Adulto', 'Adulto mayor'), TRUE ~ NA_character_)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >16 & EDAD <=25 ~ "Joven",
EDAD >26 & EDAD <=60 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
as.factor = T,
levels = c('Joven', 'Adulto', 'Adulto mayor'), TRUE ~ NA_character_)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.)))
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2='De acuerdo'; 3='En desacuerdo'; 4='Muy en desacuerdo'; c(-1) = NA"),
as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo', 'De acuerdo', 'Muy de acuerdo')),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos'; 4= 'Todos'; c(-5,-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos')),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca','Algo','Mucha')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >16 & EDAD <=25 ~ "Joven",
EDAD >26 & EDAD <=60 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
as.factor = T,
levels = c('Joven', 'Adulto', 'Adulto mayor'), TRUE ~ NA_character_))
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2= 'De acuerdo';
3= 'En desacuerdo'; 4= 'Muy en Desacuerdo'; c(-1) = NA"), as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo',
'De acuerdo', 'Muy de acuerdo')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos';
4= 'Todos'; c(-5,-4,-3,-2,-1) = NA", as.factor = T, levels = c('Ninguno', 'Algunos',
'Casi todos', 'Todos'))),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"), as.factor = T, levels = c('Ninguna',
'Poca', 'Algo',
'Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA", as.factor = T, levels = c('Ninguna',
'Poca', 'Algo'
Percepcion_FuerzasdeOrdenySeguridad %>%
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2= 'De acuerdo';
3= 'En desacuerdo'; 4= 'Muy en Desacuerdo'; c(-1) = NA"), as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo',
'De acuerdo', 'Muy de acuerdo')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos';
4= 'Todos'; c(-5,-4,-3,-2,-1) = NA", as.factor = T, levels = c('Ninguno', 'Algunos',
'Casi todos', 'Todos'))),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"), as.factor = T, levels = c('Ninguna',
'Poca', 'Algo',
'Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA", as.factor = T, levels = c('Ninguna',
'Poca', 'Algo'
Percepcion_FuerzasdeOrdenySeguridad %>%
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2= 'De acuerdo';
3= 'En desacuerdo'; 4= 'Muy en Desacuerdo'; c(-1) = NA"), as.factor= T, levels = c('Muy en desacuerdo', 'En desacuerdo',
'De acuerdo', 'Muy de acuerdo')),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor", levels = c('Joven', 'Adulto', 'Adulto mayor'),
TRUE ~ NA_character_),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos';
4= 'Todos'; c(-5,-4,-3,-2,-1) = NA",
as.factor = T, levels = c('Ninguno', 'Algunos','Casi todos', 'Todos'))),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"),
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha')),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA",
as.factor = T, levels = c('Ninguna','Poca', 'Algo','Mucha'))))
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2= 'De acuerdo';
3= 'En desacuerdo'; 4= 'Muy en Desacuerdo'; c(-1) = NA"), as.factor= T),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
TRUE ~ NA_character_),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos';
4= 'Todos'; c(-5,-4,-3,-2,-1) = NA", as.factor = T)),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"), as.factor = T),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA", as.factor = T)))
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2= 'De acuerdo';
3= 'En desacuerdo'; 4= 'Muy en Desacuerdo'; c(-1) = NA"), as.factor= T),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
TRUE ~ NA_character_),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos';
4= 'Todos'; c(-5,-4,-3,-2,-1) = NA", as.factor = T)),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"), as.factor = T),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA", as.factor = T)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), funs(forcats::as_factor(.))))
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2= 'De acuerdo';
3= 'En desacuerdo'; 4= 'Muy en Desacuerdo'; c(-1) = NA"), as.factor= T),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
TRUE ~ NA_character_),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos';
4= 'Todos'; c(-5,-4,-3,-2,-1) = NA", as.factor = T)),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"), as.factor = T),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA", as.factor = T)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_fuerzasarmadas, conf_policia), funs(forcats::as_factor(.))))
rlang::last_error()
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2= 'De acuerdo';
3= 'En desacuerdo'; 4= 'Muy en Desacuerdo'; c(-1) = NA"), as.factor= T),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
TRUE ~ NA_character_),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos';
4= 'Todos'; c(-5,-4,-3,-2,-1) = NA", as.factor = T)),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"), as.factor = T),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA", as.factor = T)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_fuerzasarmadas, conf_policia), ~(forcats::as_factor(.))))
Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2= 'De acuerdo';
3= 'En desacuerdo'; 4= 'Muy en Desacuerdo'; c(-1) = NA"), as.factor= T),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 40 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
TRUE ~ NA_character_),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos';
4= 'Todos'; c(-5,-4,-3,-2,-1) = NA", as.factor = T)),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"), as.factor = T),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"), as.factor = T)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_fuerzasarmadas, conf_policia), ~(forcats::as_factor(.)))
PER_FZAS_proc  <- Percepcion_FuerzasdeOrdenySeguridad %>%
mutate_at(vars(SEXO, preciocorrupcion, corrupcionpolicias, conf_policia, conf_fuerzasarmadas), ~(as.numeric(.))) %>%
filter(IDENPA == 170) %>%
mutate(preciocorrupcion = car::recode(.$preciocorrupcion, recodes = c("1='Muy de acuerdo'; 2= 'De acuerdo';
3= 'En desacuerdo'; 4= 'Muy en Desacuerdo'; c(-1) = NA"), as.factor= T),
SEXO = car::recode(.$SEXO, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,  levels = c('Hombre', 'Mujer')),
EDAD = case_when(EDAD >= 16 & EDAD <= 25 ~ "Joven",
EDAD >= 26 & EDAD <= 60 ~ "Adulto",
EDAD > 61 ~ "Adulto mayor",
TRUE ~ NA_character_),
corrupcionpolicias = car::recode(.$corrupcionpolicias, recodes = c("1= 'Ninguno'; 2 = 'Algunos'; 3= 'Casi todos';
4= 'Todos'; c(-5,-4,-3,-2,-1) = NA", as.factor = T)),
conf_policia = car::recode(.$conf_policia, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"), as.factor = T),
conf_fuerzasarmadas = car::recode(.$conf_fuerzasarmadas, recodes = c("1='Mucha'; 2= 'Algo'; 3= 'Poca'; 4= 'Ninguna'; c(-4,-3,-2,-1) = NA"), as.factor = T)) %>%
mutate_at(vars(EDAD, SEXO, preciocorrupcion, corrupcionpolicias, conf_fuerzasarmadas, conf_policia), ~(forcats::as_factor(.)))
View(PER_FZAS_proc)
head(PER_FZAS_proc)
saveRDS(PER_FZAS_proc, file = "output/data/datos_proc.rds") #Guardamos este único set de datos en datos_proc.rds con los datos procesados
View(PER_FZAS_proc)
